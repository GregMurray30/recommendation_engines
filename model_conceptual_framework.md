
MODEL CONCEPTUAL FRAMEWORK 
Both the scalar (USER_MOVIE_NETWORK.py) and Gaussian network models
utitize basic network theory and Bellman-Ford shortest path algorithm to generate movie recommendations.
This model description serves as the conceptual framework only and does not reflect the models'
literal implementation in PySpark. While movies are the entity of interest in these examples, 
the model is generalizable to any data set that fits a user-product-rating paradigm. 

The dual-cluster, user-movie networks consists of two principal network clusters with nodes in a 
power-law-like distribution (it has a shallower peak and fatter tail than a standard power-law distribution).
The first cluster is the user network, which is a weighted, non-directed, 
cyclic graph. The second network cluster is the movie network, also a weighted, non-directed, cyclic graph. 
Finally, the two clusters are connected by the user-movie network. It is a weighted, directed and cyclic 
graph composed of cross-edges representing each user's rating of each movie. As the name 
implies, the user-movie network shares nodes with the user and movie networks.

SCALAR NETWORK MODEL:
The user network nodes represent individual users. The network's edge weights are
calculated as the average magnitudinal difference of their shared-movie ratings. The weights are
non-directed and positive. The node pairs still show up twice (A-B and B-A) in the graph's 
edge list where w<sub>AB</sub>=(w<sub>BA</sub>).

The movie network nodes represent individual movies. Reciprocating the user network, the
movie network's edge weights are the average magnitudinal difference in their shared-user
ratings. 

The user-movie network consists of cross edges spanning the user and movie clusters and
connect a user to the movie they have rated where node u ∈ G<sub>user</sub>, and node v
∈ G<sub>movie</sub>. In order for a high rating to correspond to a small distance, a
rating-rank is used in (rating of 5 is a 1, rating of 4 is 2, etc.) for the edge weight
in place of the actual rating.

In order to accommodate a belief that an increase in degree separation should correspond to 
a decrease in the similarity regardless of the values of the edge weights, a weighting 
parameter λ is added to the distance function, δ(E); applied to each node traversal originating from the 
same cluster. Formally, 
  
  δ(E<sub>uv</sub>; λ) = λE<sub>uv</sub>, where C<sub>m</sub> is cluster m, and where C<sub>u</sub>=C<sub>v</sub>.

Finally, movie recommendations are generated by ranking the user-to-movie traversals by shortest distances.

One of the advantages of using a multi-cluster network model is that the user's movie
ratings, her similarity to other users, and her rated movies similarities to other
movies are not assessed in any arbitrary order, but rather considered simulaneously. 
In addition, each plane's edge distances may be weighted according to one's beliefs about the impact 
that particular network*.

GAUSSIAN NETWORK MODEL:
The Gaussian network model is identical to the scalar network except for the calculation of the
edge weight distances. Where the edge weights in the scalar model are simply the mean magnitude
of the rating differences, the Gaussian model's edge weights are the probability that the
difference between the two users, or two movies, is greater than some designated threshold parameter θ.

One major disadvantage of this approach, however, is that the CDF 
cannot be calculated for a sample with variance of 0. This becomes an issue with small sample sizes. 
In these instances, and where the mean difference is less than the threshold parameter θ, distance is 
calculated using the one minus a scaled version of the logistic function, δ(n)=(1000+e<sup>n</sup>)/e<sup>n</sup>, where n is the sample size. In the case where the mean difference is greater than the threshold parameter and the 
variance is 0, the edge is set equal to infinity, effectively removing the two nodes' connection from the 
network. Formally, distance in this network is calculated:
  
  δ(E<sub>uv</sub>; θ)=Pr[N(μ<sub>uv</sub>, σ<sub>uv</sub>)>θ]), when σ<sub>uv</sub>>0 and μ<sub>uv</sub><=θ;
  
  δ(E<sub>uv</sub>; θ)=(1000+e<sup>n</sup>)/e<sup>n<sub>uv</uv></sup>, where n is the sample size of E<sub>uv</sub>, when σ<sub>uv</sub>=0 and μ<sub>uv</sub><=θ;
  
  δ(E<sub>uv</sub>; θ)= ∞, otherwise

Despite its longer convergence times and "hacky" solution to zero-variance samples, the Guassian model retains one
distinct advantage over its scalar counterpart in that its distances account for any uncertainty due to high variance 
in the sample of shared ratings. The result is that it often provides more sensible recommendations than the scalar model (although some of the recommendations are the same in both models).

 *In this iteration of the scalar model the distances in the user network, movie network, and the
 user-movie cross network are scaled the same, assigning each network equal impact on the
 final recommendation. These edge weights could easily be scaled to accomodate one's
 beliefs on the importance each network has in determining the right movie recommendation.
 For instance if one believed that movie similarity was more important than user
 similarity, the edge weights in the movie network plane could be scaled down by some
 factor.

